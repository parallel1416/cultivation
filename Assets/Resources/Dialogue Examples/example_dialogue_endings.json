// 本文件夹中的所有文件仅供JSON格式参考，且由于带有注释，无法被Unity直接识别和使用。
// 完成事件文件写作后，请删除可能存在的注释，并将其放置在以下目录：Assets/Resources/Dialogues/
// 如果文本编辑器针对注释报错，请将编辑器的语言模式切换为“JSONC”或“JSON with Comments”。
// 事件文件名就是这个事件的唯一ID，建议使用英文和下划线命名法（例如 manage_the_family_estate.json），以避免潜在的编码问题。

// 这是一个结局判定示例。

{
    "desc": "这是一个结局判定示例，会判断玩家最终走向哪个结局，其中包含根据玩家已经拆除的科技结点数进行判定的逻辑。",

    "title": "终局",

    "sentences": [
        {
            "text": "你来到了一切的结局。"
        },
        {
            "text": "你曾所行之事，此刻会决定——你将所往之处。"
        },
        {
            // 我们使用多重检定语句来实现这一效果，考虑到多结局判定会有不同的条件。
            "type": "multiCheck",

            // 不会将检定结果(例如："检定成功！你拆除过3个科技结点")显示在对话框中。应该没这个需求。（我也不打算生成这段的描述了
            // 制造一种“隐形检定”的效果。
            "showCheckResult": false, 

                "multiCheckConditions": [
                { // 示例：检定玩家钱数
                    "difficultyClass": 20,
                    "checkWhat": "money"
                    // 在同一个多重检定语句中，同一个掷骰检定只会进行一次，之后的所有结果都会拿该掷骰检定结果进行判断。
                },
                { // 示例：检定GlobalTag
                    "checkWhat": "globalTag",
                    "stringId": "IsEveryoneAlive" // 仅作示例
                },
                { 
                    // 示例：检定已拆除科技结点的数量。
                    // 请注意比大小的方向！
                    // 此处：如果已拆除科技节点大于等于5个，则算此项检定通过。
                    // 留空默认为0（即检定必定通过），但没有这么做的理由。
                    "difficultyClass": 5,
                    "checkWhat": "dismantledTechs"
                }
            ],

            "multiCheckTargets": [
                {
                    "priority": 0,
                    "targetID": "normal_ending"
                },
                {
                    "priority": 1,
                    "requiredConditionIndices": [1, 2],
                    "target": "good_ending"
                },
                {
                    "priority": 2,
                    "requiredConditionIndices": [3],
                    "target": "bad_ending"
                }
            ]
        },



        // 结局相关语句
        // 请不要在每个分支结局的最后加上 "target": "END"

        {
            "id": "normal_ending",
            "text": "你没有向古神张开怀抱，却也没能保住身边的重要之人。你看着空荡凋敝的宗门陷入沉思。"
        },
        {
            "text": "缺月挂疏桐，漏断人初静。谁见幽人独往来，缥缈孤鸿影。",
            "target": "END"
        },

        {
            "id": "good_ending",
            "text": "你在混沌天地中守住了灵台的一方清明，向着不可名状的伟岸之物庄严宣战。一切结束，宗门又回归了往日的平静。"
        },
        {
            "text": "试问岭南应不好，却道，此心安处是吾乡。",
            "target": "END"
        },

        {
            "id": "bad_ending",
            "text": "你借助了祂无穷无尽的力量达成了自己的目的。可这一切真的值得吗？"
        },
        {
            "text": "世事一场大梦，人生几度秋凉。中秋谁与共孤光，把盏凄然北望。"
            // 文件的最后一句可以不写 "target": "END"
        }
    ]
}